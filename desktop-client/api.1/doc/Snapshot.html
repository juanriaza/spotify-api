<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Snapshot</title>
    
    <script src="http://shjs.sourceforge.net/sh_main.min.js"> </script>
    <script src="http://shjs.sourceforge.net/lang/sh_javascript.min.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/node-dark.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: Snapshot</h1>
    
    



<section>
    
<header>
    <h2>
    Snapshot
    </h2>
    
        <div class="class-description">A snapshot is a collection frozen in time. Collections can change
their contents at any time, so to examine the items in the colleciton, take a
snapshot of the the entire collection, or just the part of it that is
interesting. Partial snapshots are preferred when possible, since they will
fetch less data, saving memory and bandwidth. When the collection changes,
the snapshot will remain the same, but it is a good time to take a new
snapshot of the collection (if your app needs to use up-to-date data).

To make a snapshot, call the snapshot method on the collection. You do not
ever need to directly instantiate a snapshot object.</div>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="Snapshot"><span class="type-signature"></span>new Snapshot</h4>
    
    
</dt>
<dd>
    
    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>length</code></td>
            
            
            <td class="type">
            
                        number
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">The total length of the collection at the time the
    snapshot was taken. This number can be greater than the range (offset +
    length) that the snapshot was created using.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>range</code></td>
            
            
            <td class="type">
            
                        Object
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">The valid range for the snapshot, used at creation
    time. The value of the property has two fields: "range" and "length".</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 2936</li></ul></dd>
	
    
    
	
	
	<dt class="tag-see">See:</dt>
	<dd class="tag-see">
        <ul>
            <li><a href="Collection.html#snapshot">Collection#snapshot</a></li>
        </ul>
	</dd>
	
	
	
</dl>

    
    
    
    
    
    
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>myAlbum.tracks.snapshot().done(function(snapshot) { ... });
myArtist.albums.snapshot.done(artistLoaded).fail(artistNotLoaded);
myPlaylist.tracks.snapshot(0, 100).done(function(snapshot) { ... });</code></pre>

    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="find"><span class="type-signature"></span>find</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Searches for a given item in the snapshot part of the collection, and returns
a reference to the item if found or null if it was not found in the snapshot.
If null is returned it just means that item was not found in the snapshot. It
could still be somewhere in the collection. The reference is bound to the
snapshot's view of the collection, and can be used to remove items from the
collection or add new items in a particular location.
    </div>
    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>item</code></td>
            
            
            <td class="type">
            
                        !Item
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">A collection item, such as Track or Artist.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>first</code></td>
            
            
            <td class="type">
            
                        <a href="Reference.html">Reference</a>
                         | 
                    
                        number
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">The first item to consider when searching.
    This parameter is optional. If left out, the search will start from
    first item in the snapshot.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 2999</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A reference object.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Reference</span> 
		
	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>myTracks.snapshot().done(function(snapshot) {
  myTracks.remove(snapshot.find(track));
});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="get"><span class="type-signature"></span>get</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Returns a singe item from the snapshot. If the index is outside the range of
the snapshot, null is returned. Since the snapshot is static, the returned
item will never be different when calling this method with the same index.
    </div>
    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>index</code></td>
            
            
            <td class="type">
            
                        <a href="Reference.html">Reference</a>
                         | 
                    
                        number
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">The index of the item to get. Can be a
    reference returned by the find method.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 2973</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    The item in the collection.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Item</span> 
		
	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>myTracks.snapshot(0, 20).done(function(snapshot) {
  var track1 = snapshot.get(18); // Returns a Track
  var track2 = snapshot.get(23); // Returns null
});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="loadAll"><span class="type-signature"></span>loadAll</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        This is a utility function to get instances of all the items in this
snapshot and then calling load on all the individual items and finally
joining all the resulting promises.
    </div>
    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>properties</code></td>
            
            
            <td class="type">
            
                        Array.&lt;string>
                         | 
                    
                        ...string
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">An array of property names. The
    property names that are available for loading can be found in the
    documentation for each specific sub-class. Note that instead of passing
    in an array, multiple arguments can be passed instead.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 3028</li></ul></dd>
	
    
    
	
	
	<dt class="tag-see">See:</dt>
	<dd class="tag-see">
        <ul>
            <li><a href="Loadable.html#load">Loadable#load</a></li>
        </ul>
	</dd>
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A promise to wait for before the properties can be read.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Promise</span> 
		
	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>var playlist = Playlist.fromURI(...);
playlist.load('tracks').done(function() {
  playlist.tracks.snapshot().done(function(snapshot) {
    snapshot.loadAll('name').each(function(track) {
      console.log(track.name);
    });
  });
});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="ref"><span class="type-signature"></span>ref</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Makes a reference to an indexed item in the snapshot. The reference can be
used to insert to or remove items from the collection that the snapshot came
from. Note that the index must be part of the snapshot subset or one past the
the length of the collection, so that tracks can be inserted at the very end.
    </div>
    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>index</code></td>
            
            
            <td class="type">
            
                        number
                        
                    
            </td>
            
            
            
            
            
            <td class="description last">The item index in the snapshot.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 3065</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    A reference object.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Reference</span> 
		
	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>myTracks.snapshot().done(function(snapshot) {
  myTracks.remove(snapshot.ref(0));
});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="toArray"><span class="type-signature"></span>toArray</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Creates an array with all of the items in the snapshot. Does not include the
empty slots in the snapshot, if any. Be sure that you actually have a need to
call this method before using it, since it will create instances of every item
in the snapshot, which are usually created lazily.
    </div>
    
    
    
    
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.0.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 3088</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    An array.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Array.&lt;Object></span> 
		
	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="sh_javascript"><code>myTracks.snapshot().done(function(snapshot) {
  var tracks = snapshot.toArray();
  tracks.forEach(doSomethingWithTrack);
});</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="toURIs"><span class="type-signature"></span>toURIs</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Creates an array with all URIs of the items in the snapshot. Does not include
the empty slots in the snapshot, if any. In general, applications should not
need to work with URIs directly, but for applications that have their own
database of Spotify URIs mapped to their own data it might be useful. If the
application does not actually need the metadata of the items in the snapshot
it is better to call this method than toArray, to avoid creating a large
number of objects that are not needed.
    </div>
    
    
    
    
    
    
    
<dl class="details">
    
        
	
	
	
	<dt class="tag-since">Since:</dt>
	<dd class="tag-since"><ul class="dummy"><li>1.2.0</dd>
	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>models.js, line 3113</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    An array of URIs.
</div>




<dl>
	<dt>
		Type
	</dt>
	<dd>
		
		<span class="param-type">Array.&lt;string></span> 
		
	</dd>
</dl>

        
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="939370fe49.html">api/messaging</a></li></ul><h3>Classes</h3><ul><li><a href="Album.html">Album</a></li><li><a href="AlbumGroup.html">AlbumGroup</a></li><li><a href="SpotifyApi.AnalyticsContext.html">AnalyticsContext</a></li><li><a href="Application.html">Application</a></li><li><a href="Artist.html">Artist</a></li><li><a href="BridgeLoadable.html">BridgeLoadable</a></li><li><a href="Cache.html">Cache</a></li><li><a href="Client.html">Client</a></li><li><a href="Collection.html">Collection</a></li><li><a href="Context.html">Context</a></li><li><a href="Disc.html">Disc</a></li><li><a href="Group.html">Group</a></li><li><a href="SpotifyApi.LangModule.html">LangModule</a></li><li><a href="Library.html">Library</a></li><li><a href="Loadable.html">Loadable</a></li><li><a href="Location.html">Location</a></li><li><a href="Observable.html">Observable</a></li><li><a href="Offline.html">Offline</a></li><li><a href="Player.html">Player</a></li><li><a href="Playlist.html">Playlist</a></li><li><a href="Promise.html">Promise</a></li><li><a href="ProxyListener.html">ProxyListener</a></li><li><a href="Reference.html">Reference</a></li><li><a href="Search.html">Search</a></li><li><a href="Session.html">Session</a></li><li><a href="Snapshot.html">Snapshot</a></li><li><a href="Toplist.html">Toplist</a></li><li><a href="Track.html">Track</a></li><li><a href="User.html">User</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fromURI">fromURI</a></li><li><a href="global.html#getBridgeDefinition">getBridgeDefinition</a></li><li><a href="global.html#isRequestImplemented">isRequestImplemented</a></li><li><a href="global.html#promisedRequest">promisedRequest</a></li><li><a href="global.html#require">require</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3</a> on Tue Nov 13 2012 15:48:31 GMT-0500 (EST)
</footer>

<script> sh_highlightDocument(); </script>
</body>
</html>
