(function(){var n=0,i={};SpotifyApi.prototype._throwError=!0;var e=window.dependencies,h=e["static"],j=h.replace(/\/([^\/]*)$/,""),k=j+"/",p=SpotifyApi.prototype._resolveModule;SpotifyApi.prototype._resolveModule=function(c){var c=p(c),a=c.match(/^\$([a-z\-\_]+)(\/.*)/),b=!1,d,f=!1;a?(b=a[1],d=a[2]):/^\//.exec(c)&&(f=!0);a=!1;/\.lang$/.exec(c)&&(a="en.loc",c=b?"$"+b+"/"+(d="/"+a+d):(f?"/"+a:a+"/")+c);b&&e[b]?c=e[b]+d:(b?c="/"+b+d:f||(c="/"+c),c=(b?j:h)+c);return c};var l=window.MutationObserver||
window.WebKitMutationObserver;l?(new l(function(c){for(var a=0,b=c.length;a<b;a++){var d=c[a].addedNodes;if(!d.length)return this;for(var f=h+"/$",g=0,q=d.length;g<q;g++){var e=d[g];"link"==e.tagName.toLowerCase()&&/^\$/.test(e.getAttribute("href"))&&(e.href=e.href.replace(f,k))}}})).observe(document.head,{childList:!0}):document.head.addEventListener("DOMSubtreeModified",function(c){if(c.target===document.head)for(var c=document.head.querySelectorAll('link[href^="$"]'),a=h+"/$",b=0,d=c.length;b<
d;b++){var f=c[b];/^\$/.test(f.getAttribute("href"))&&(f.href=f.href.replace(a,k))}});if("XDomainRequest"in window){var r=SpotifyApi.prototype._createRequest;SpotifyApi.prototype._createRequest=function(c,a){if(!/^http/.test(c))return r(c,a);var b=new XDomainRequest;b.onprogress=function(){};b.onerror=function(){throw Error('Could not load module "'+c+'"; Not found.');};b.onload=function(){a(b.responseText)};b.open("GET",c);b.send(null)}}var s={hermes_register_schema:1};SpotifyApi.prototype.request=
function(c,a,b,d,f){var g=window.top;if(g===window)return this;a={type:"bridge_request",id:n++,name:c,args:a};s[c]&&(a.deps=e);g.postMessage(JSON.stringify(a),"*");if(!d)return this;i[a.id]={success:d,failed:f,caller:b};this._prepareFlush()};SpotifyApi.prototype._requestReply=function(c){c=c.data;if("string"==typeof c)try{c=JSON.parse(c)}catch(a){return this}var b=i[c.id];if(!b)return this;c.success&&b.success?b.success.call(b.caller,c.payload):!c.success&&b.failed&&b.failed.call(b.caller,c.payload)};
SpotifyApi.api=new SpotifyApi;window.addEventListener("message",SpotifyApi.api._requestReply,!1);SpotifyApi.Bases.url="https://play.spotify.com";SpotifyApi.Exps.http=/^https?:\/\/(play|open)\.spotify\.com\/(.+)$/;String.prototype.toSpotifyLink=function(){return this.toSpotifyURL()};document.documentElement.addEventListener("click",function(c){var a=c.target;do if("a"===a.nodeName.toLowerCase())break;while((a=a.parentNode)&&a!==document.body);if(a&&a!==document.body){var a=a.href,b=null;SpotifyApi.Exps.http.test(a)?
b=a.toSpotifyURI():SpotifyApi.Exps.spotify.test(a)&&(b=a);b&&(c.preventDefault(),SpotifyApi.api.request("application_open_uri",[b,null]))}});var m=Array.prototype.slice;Array.prototype.indexOf||(Array.prototype.indexOf=function(c,a){for(var b=this.length>>>0,d=0>a?Math.max(0,b+a):a||0;d<b;d++)if(this[d]===c)return d;return-1});String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")});Function.prototype.bind||(Function.prototype.bind=function(c){var a=
this,b=1<arguments.length?m.call(arguments,1):null,d=function(){},f=function(){var g=c,e=arguments.length;this instanceof f&&(d.prototype=a.prototype,g=new d);e=!b&&!e?a.call(g):a.apply(g,b&&e?b.concat(m.call(arguments)):b||arguments);return g==c?e:g};return f});({_modifiers:{},_keymap:{},_ignore:{},_bindings:{},_empty:function(){},init:function(){SpotifyApi.api.request("keyboard_get_bindings",[],this,function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a])}.bind(this),this._empty);window.addEventListener("keydown",
this.handleOwn.bind(this,!1));window.addEventListener("keyup",this.handleOwn.bind(this,!0))},handleOwn:function(c,a){if(this._ignore[a.target.tagName.toLowerCase()])return this;var b=this._keymap[a.which||a.keyCode];if(!b)return this;var d=this._modifiers;a.altKey&&(b|=d.alt);a.metaKey&&(b|=d.meta);a.ctrlKey&&(b|=d.ctrl);b=this._bindings[b];if(!b)return this;a.preventDefault();a.stopPropagation();c&&SpotifyApi.api.request("keyboard_trigger_binding",[b],this,this._empty,this._empty)}}).init()})();
