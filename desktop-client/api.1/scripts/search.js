require(["$api/models"],function(c){function a(b,d){e.call(this);var a="spotify:search:"+encodeURIComponent(d).replace(/%20/g,"+");this.resolve("uri",a);this.resolve("query",d);this.resolve("albums",new f(g,null,b+"_albums",d));this.resolve("artists",new f(h,null,b+"_artists",d));this.resolve("playlists",new f(i,null,b+"_playlists",d));this.resolve("tracks",new f(j,a,b+"_tracks",d))}var e=c.Loadable,f=c.BridgeCollection,g=c.Album,h=c.Artist,i=c.Playlist,j=c.Track;SP.inherit(a,e);e.define(a,"albums artists playlists query tracks uri".split(" "));
e.define(a,["fuzzyMatch"],"_fuzzy");a.search=function(b){return new this("search",b)};a.suggest=function(b){return new this("suggest",b)};a.prototype._fuzzy=function(b){SP.request("search_fuzzy_match",[this.query],this,function(a){this.resolveMany(b,a)},function(a){this.resolveFail(b,a)})};exports.Search=a});
