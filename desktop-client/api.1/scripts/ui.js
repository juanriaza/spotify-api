SpotifyApi.prototype._initDnD=function(){this._dragHandlers=[];window.addEventListener("dragstart",this.bind(this._onDragStart,this),!1)};
SpotifyApi.prototype._onDragStart=function(b){for(var c=this._dragHandlers,d,e="",f=0,h=c.length;f<h;f++)if(d=c[f],d.test(b.target)){e=d.getText(b.target);break}if(e){var c=d.getData(b.target),a;for(a in c)b.dataTransfer.setData(a,c[a])}else{for(a=b.target;a&&!(a instanceof HTMLAnchorElement);)a=a.parentNode;if(a&&(c=!!a.href.match(SpotifyApi.Exps.http),d=!!a.href.match(SpotifyApi.Exps.spotify),c||d))e=a.title||a.textContent,a=c?a.href:a.href.toSpotifyURL(),b.dataTransfer.setData("text/uri-list",
a),b.dataTransfer.setData("text/plain",a),b.dataTransfer.setData("text/html",'<a href="'+a+'">'+e+"</a>")}if(!e)return!1;var g=document.createElement("div");g.className="sp-dnd-tooltip sp-text-truncate";g.textContent=e;g.style.left=b.pageX+"px";g.style.top=b.pageY+"px";document.body.appendChild(g);b.dataTransfer.setDragImage(g,0,20);SpotifyApi.api.defer(this,function(){document.body.removeChild(g)})};SpotifyApi.prototype.addDragHandler=function(b,c,d){this._dragHandlers.push({test:b,getData:c,getText:d})};
SpotifyApi.prototype.removeDragHandler=function(b,c,d){for(var e=this._dragHandlers,f=0,h=e.length;f<h;f++){var a=e[f];if(a.test===b&&a.getData===c&&a.getText===d){e.splice(f,1);break}}};SpotifyApi.api._initDnD();
