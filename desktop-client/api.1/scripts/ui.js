SpotifyApi.prototype._initDnD=function(){this._dragHandlers=[];window.addEventListener("dragstart",this.bind(this._onDragStart,this),!1)};
SpotifyApi.prototype._onDragStart=function(b){for(var c=this._dragHandlers,d,f="",g=0,h=c.length;g<h;g++)if(d=c[g],d.test(b.target)){f=d.getText(b.target);break}if(f){var c=d.getData(b.target),a;for(a in c)b.dataTransfer.setData(a,c[a])}else{for(a=b.target;a&&!(a instanceof HTMLAnchorElement);)a=a.parentNode;if(a&&(c=!!a.href.match(SpotifyApi.Exps.http),d=!!a.href.match(SpotifyApi.Exps.spotify),c||d))f=a.title||a.textContent,a=c?a.href:a.href.toSpotifyURL(),b.dataTransfer.setData("text/uri-list",
a),b.dataTransfer.setData("text/plain",a),b.dataTransfer.setData("text/html",'<a href="'+a+'">'+f+"</a>")}if(!f)return!1;var e=document.createElement("div");e.className="sp-dnd-tooltip sp-text-truncate";e.textContent=f;e.style.left=b.pageX+"px";e.style.top=b.pageY+"px";document.body.appendChild(e);b.dataTransfer.setDragImage(e,0,20);SpotifyApi.api.defer(this,function(){document.body.removeChild(e)})};SpotifyApi.prototype.addDragHandler=function(b,c,d){this._dragHandlers.push({test:b,getData:c,getText:d})};
SpotifyApi.api._initDnD();
