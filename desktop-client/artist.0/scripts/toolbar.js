require(["$api/models","/scripts/logger","/scripts/env#Environment","/scripts/utils"],function(m,i,n,d){exports.createToolbar=function(j,b,g){var e=!1,k=new i.Logger,c=0,h=function(a){f("overview")&&(c=d.scrollPosition().y);f(a)?(a=$$(g).getHeight()[0],d.scrollPosition().y>a&&window.scrollTo(0,a)):($$(j+" > div").setStyle("display","none"),$(a).setStyle("display","block"),$$(b+" li").removeClass("active"),$$(b+" li").removeClass("active"),$$(b+' a[rel="'+a+'"]').getParent("li").addClass("active"),
a=$$(g).getHeight()[0],d.scrollPosition().y>=a&&(f("overview")?c>a&&window.scrollTo(0,c):window.scrollTo(0,a)))},f=function(a){return $$(b+' a[rel="'+a+'"]').getParent("li").hasClass("active")[0]},l=function(a){if("A"==a.target.nodeName.toUpperCase()){var b=$(a.target).getProperty("rel");a.preventDefault();h(b);k.clientEvent("click-tab",{id:b})}return!1};return{init:function(){var a=0,c=$$(""+b);$$(b+" > ul").addEvent("click",l);$(window).addEventListener("scroll",function(){0===a&&(a=$$(g).getHeight());
var b=d.scrollPosition().y;b>a&&!e?(e=!0,c.addClass("sticky")):b<=a&&e&&(c.removeClass("sticky"),e=!1)})},show:function(a){h(a)},isActiveTab:function(a){return f(a)},heightOnPage:function(){return e?0:d.elementPosition($$(b)[0]).height},resetOverviewPosition:function(){c=0}}}});
