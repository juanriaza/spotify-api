require(["$api/models","$views/utils/css","$shared/events#EventHandler"],function(h,c,i){var a=function(){this.scrollHandler=this.scrollHandler.bind(this);this.init()};a.prototype.lastScrollY=0;a.prototype.init=function(){this.events=new i(this)};a.prototype.dispose=function(){this.events.removeAll()};a.prototype.destroy=function(){if(this.placeholder&&"object"===typeof this.placeholder)for(;this.placeholder.firstChild;)this.placeholder.removeChild(this.placeholder.firstChild);this.dispose()};a.prototype.show=
function(){this.container&&"object"===typeof this.container&&c.removeClass(this.container,"hidden")};a.prototype.hide=function(){this.container&&"object"===typeof this.container&&c.addClass(this.container,"hidden")};a.prototype.getScrollPos=function(){return Math.max(this.lastScrollY,168)};a.prototype.fixed=!1;a.prototype.initialize=function(g,b){this.user=g;this.navigationContext=b;this.placeholder=document.querySelector(".app-navigation-placeholder");this.container=document.createElement("nav");
c.addClass(this.container,"app-navigation");this.placeholder.appendChild(this.container);this.fixed=!0;this.navOffsetTop=this.container.offsetTop;this.scrollHandler(0)};a.prototype.renderNavigationItems=function(g){for(var b=document.createElement("ul"),a=0;a<g.length;a++)b.appendChild(g[a].node);this.container.appendChild(b)};a.prototype.setActive=function(a){for(var b=0,e=this.container.querySelectorAll(".active"),f=e.length||0;b<f;b++)c.removeClass(e[b],"active");(a=this.container.querySelector(".nav-"+
a))&&c.addClass(a,"active")};a.prototype.scrollHandler=function(a){a<=this.navOffsetTop&&this.fixed?(c.removeClass(this.container,"passed-top"),this.fixed=!1):a>this.navOffsetTop&&!this.fixed&&(c.addClass(this.container,"passed-top"),this.fixed=!0)};var d=function(a,b,c){this.node=null;this.init(a,b,c)};d.prototype.init=function(a,b,e){this.uri=e;var f=document.createElement("li"),d=document.createElement("a");d.innerHTML=b;d.href=e;c.addClass(f,a);f.appendChild(d);this.node=f};d.prototype.registerClickEvent=
function(){var a=this;this.node.addEventListener("click",function(b){b.preventDefault();b.stopPropagation();h.application.openURI(a.uri)})};exports.NavigationBar=a;exports.NavigationTab=d});
