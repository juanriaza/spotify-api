var requestFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)},callbacks=[],iterator=function(a){null==a&&(a=+new Date);for(var b=callbacks.splice(0,callbacks.length),d=0,c=b.length;d<c;d++)b[d](a)},request=function(a){1===callbacks.push(a)&&requestFrame.call(window,iterator)},cancel=function(a){a=callbacks.indexOf(a);-1<a&&callbacks.splice(a,
1)},Queue=function(){this.list=[]};Queue.prototype.push=function(a,b){return add.call(this,"push",a,b)};Queue.prototype.unshift=function(a,b){return add.call(this,"unshift",a,b)};Queue.prototype.count=function(){return this.list.length};
var add=function(a,b,d){var c=this.list,e=b.bind(d),f=function(){var a=c.shift();a&&a();c.length&&request(f)};1===c[a](e)&&request(f);return function(){var a=c.indexOf(e);-1<a&&c.splice(a,1)}},throttle=function(a,b){var d=!1,c;return function(){c=arguments;d||(d=!0,request(function(){d=!1;a.apply(b,c)}))}};exports.throttle=throttle;exports.request=request;exports.cancel=cancel;exports.Queue=Queue;
